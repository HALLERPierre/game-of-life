import{L as oe,S as X,i as Z,s as H,l as K,g as q,M as Q,N as F,a as I,d as k,b as d,O as x,P as U,Q as $,e as A,t as j,k as G,c as B,h as D,m as L,R as ie,J as w,T as ae,U as ce,j as ue,K as W,V as he,W as ee,v as _e,X as fe,Y as de,w as ge,Z as pe,x as me,y as ve,q as be,o as ye,B as ke}from"../chunks/vendor-46be8023.js";const we=()=>{const e=oe("__svelte__");return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:e.navigating.subscribe}},session:e.session}},Se={subscribe(e){return we().page.subscribe(e)}};const{window:Ce}=de;function te(e,s,t){const l=e.slice();return l[23]=s[t],l[25]=t,l}function se(e,s,t){const l=e.slice();return l[23]=s[t],l[27]=t,l}function le(e){let s,t,l,n,i,r,_,v;function S(){return e[17](e[25],e[27])}return{c(){s=Q("rect"),this.h()},l(u){s=F(u,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),I(s).forEach(k),this.h()},h(){d(s,"class",t=""+(x(e[1].includes(`${e[25]}:${e[27]}`)?"selected":"rect")+" svelte-4ke69e")),d(s,"x",l=e[25]*e[6]),d(s,"y",n=e[27]*e[6]),d(s,"width",i=e[6]-V),d(s,"height",r=e[6]-V)},m(u,c){q(u,s,c),_||(v=U(s,"click",S),_=!0)},p(u,c){e=u,c&2&&t!==(t=""+(x(e[1].includes(`${e[25]}:${e[27]}`)?"selected":"rect")+" svelte-4ke69e"))&&d(s,"class",t),c&64&&l!==(l=e[25]*e[6])&&d(s,"x",l),c&64&&n!==(n=e[27]*e[6])&&d(s,"y",n),c&64&&i!==(i=e[6]-V)&&d(s,"width",i),c&64&&r!==(r=e[6]-V)&&d(s,"height",r)},d(u){u&&k(s),_=!1,v()}}}function ne(e){let s,t=Array(e[4]),l=[];for(let n=0;n<t.length;n+=1)l[n]=le(se(e,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();s=K()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);s=K()},m(n,i){for(let r=0;r<l.length;r+=1)l[r].m(n,i);q(n,s,i)},p(n,i){if(i&338){t=Array(n[4]);let r;for(r=0;r<t.length;r+=1){const _=se(n,t,r);l[r]?l[r].p(_,i):(l[r]=le(_),l[r].c(),l[r].m(s.parentNode,s))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(n){$(l,n),n&&k(s)}}}function Ne(e){let s,t,l,n,i,r,_=(e[0]?"Stop":"Start")+"",v,S,u,c,O,b,g,T,J,C=Array(e[5]),f=[];for(let h=0;h<C.length;h+=1)f[h]=ne(te(e,C,h));return{c(){s=A("div"),t=A("div"),l=A("button"),n=j("Clear"),i=G(),r=A("button"),v=j(_),S=G(),u=A("button"),c=j("Copy"),O=G(),b=Q("svg");for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){s=B(h,"DIV",{class:!0});var y=I(s);t=B(y,"DIV",{class:!0});var a=I(t);l=B(a,"BUTTON",{class:!0});var z=I(l);n=D(z,"Clear"),z.forEach(k),i=L(a),r=B(a,"BUTTON",{class:!0});var M=I(r);v=D(M,_),M.forEach(k),S=L(a),u=B(a,"BUTTON",{class:!0});var P=I(u);c=D(P,"Copy"),P.forEach(k),a.forEach(k),O=L(y),b=F(y,"svg",{width:!0,height:!0});var Y=I(b);for(let o=0;o<f.length;o+=1)f[o].l(Y);Y.forEach(k),y.forEach(k),this.h()},h(){d(l,"class","reset svelte-4ke69e"),d(r,"class","start svelte-4ke69e"),d(u,"class","start svelte-4ke69e"),d(t,"class","actions svelte-4ke69e"),d(b,"width","100%"),d(b,"height","100%"),d(s,"class","grid svelte-4ke69e"),ie(()=>e[18].call(s))},m(h,y){q(h,s,y),w(s,t),w(t,l),w(l,n),w(t,i),w(t,r),w(r,v),w(t,S),w(t,u),w(u,c),w(s,O),w(s,b);for(let a=0;a<f.length;a+=1)f[a].m(b,null);g=ae(s,e[18].bind(s)),T||(J=[U(Ce,"wheel",e[9]),U(l,"click",e[15]),U(r,"click",function(){ce(e[0]?e[11]:e[10])&&(e[0]?e[11]:e[10]).apply(this,arguments)}),U(u,"click",e[16])],T=!0)},p(h,[y]){if(e=h,y&1&&_!==(_=(e[0]?"Stop":"Start")+"")&&ue(v,_),y&370){C=Array(e[5]);let a;for(a=0;a<C.length;a+=1){const z=te(e,C,a);f[a]?f[a].p(z,y):(f[a]=ne(z),f[a].c(),f[a].m(b,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=C.length}},i:W,o:W,d(h){h&&k(s),$(f,h),g(),T=!1,he(J)}}}let V=2;function Re(e,s,t){let l,n,i,r;ee(e,Se,o=>t(20,i=o));let _,v;_e(()=>{t(12,_=i.url.searchParams.get("pattern")),t(13,v=i.url.searchParams.get("zoom"))});let S=0,u=0,c=50,O,{playing:b=!1}=s,{alivedCells:g=[]}=s;const T=fe(c);ee(e,T,o=>t(6,r=o));function J(o){const m=[];for(let p=-1;p<=1;p++)for(let N=-1;N<=1;N++){const E=p+o.x,R=N+o.y;E<0||R<0||E>l||R>n||E===o.x&&R===o.y||m.push(`${E}:${R}`)}return m}function C(o,m){const p=`${o}:${m}`;g.includes(p)?t(1,g=g.filter(N=>N!==p)):t(1,g=[...g,p])}function f(o){o.deltaY<0&&t(14,c+=2),o.deltaY>0&&c>20&&t(14,c-=2)}function h(){const o=[];for(let m=0;m<l;m++)for(let p=0;p<n;p++){const N=g.includes(`${m}:${p}`),E=J({x:m,y:p}),R=E.filter(re=>g.includes(re)).length;console.log({x:m,y:p,isAlive:N,neighboors:E}),N&&(R===2||R===3)?o.push(`${m}:${p}`):R===3&&o.push(`${m}:${p}`)}t(1,g=o)}function y(){t(0,b=!0),O=setInterval(h,200)}function a(){t(0,b=!1),clearInterval(O)}const z=()=>t(1,g=[]),M=()=>navigator.clipboard.writeText(`${window.location.origin}?pattern=${encodeURI(JSON.stringify(g))}&zoom=${r}`),P=(o,m)=>C(o,m);function Y(){S=this.clientHeight,u=this.clientWidth,t(2,S),t(3,u)}return e.$$set=o=>{"playing"in o&&t(0,b=o.playing),"alivedCells"in o&&t(1,g=o.alivedCells)},e.$$.update=()=>{e.$$.dirty&12288&&(_!=null&&t(1,g=JSON.parse(decodeURI(_))),v!=null&&t(14,c=JSON.parse(decodeURI(v)))),e.$$.dirty&16392&&t(5,l=Math.floor(u/c)+1),e.$$.dirty&16388&&t(4,n=Math.floor(S/c)+1),e.$$.dirty&16384&&T.set(c)},[b,g,S,u,n,l,r,T,C,f,y,a,_,v,c,z,M,P,Y]}class Te extends X{constructor(s){super();Z(this,s,Re,Ne,H,{playing:0,alivedCells:1})}}function ze(e){let s,t,l;return t=new Te({}),{c(){s=G(),ge(t.$$.fragment),this.h()},l(n){pe('[data-svelte="svelte-mb0vpf"]',document.head).forEach(k),s=L(n),me(t.$$.fragment,n),this.h()},h(){document.title="Game of Life"},m(n,i){q(n,s,i),ve(t,n,i),l=!0},p:W,i(n){l||(be(t.$$.fragment,n),l=!0)},o(n){ye(t.$$.fragment,n),l=!1},d(n){n&&k(s),ke(t,n)}}}class Ie extends X{constructor(s){super();Z(this,s,null,ze,H,{})}}export{Ie as default};
