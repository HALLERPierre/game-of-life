import{L as oe,S as X,i as Z,s as H,l as K,g as Y,M as Q,N as F,a as M,d as k,b as u,O as x,P as I,Q as $,e as O,t as V,k as j,c as A,h as D,m as q,R as ae,J as C,T as ie,U as ce,j as ue,K as W,V as he,W as ee,v as fe,X as _e,Y as ge,w as de,Z as pe,x as me,y as ve,q as be,o as ye,B as we}from"../chunks/vendor-7f937735.js";import{r as ke}from"../chunks/singletons-a6a7384f.js";const Se=()=>{const e=oe("__svelte__");return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:e.navigating.subscribe}},session:e.session}},Ce={subscribe(e){return Se().page.subscribe(e)}},Ne=Re;async function Re(e,t){return ke.goto(e,t,[])}const{window:Te}=ge;function te(e,t,s){const n=e.slice();return n[23]=t[s],n[25]=s,n}function se(e,t,s){const n=e.slice();return n[23]=t[s],n[27]=s,n}function ne(e){let t,s,n,l,a,r,h,p,S;function m(){return e[17](e[25],e[27])}return{c(){t=Q("rect"),this.h()},l(c){t=F(c,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),M(t).forEach(k),this.h()},h(){u(t,"class","rect svelte-n194fo"),u(t,"x",s=e[25]*e[6]),u(t,"y",n=e[27]*e[6]),u(t,"width",l=e[6]-G),u(t,"height",a=e[6]-G),u(t,"rx",r=Math.log(e[6])),u(t,"ry",h=Math.log(e[6])),x(t,"selected",e[1].includes(`${e[25]}:${e[27]}`))},m(c,g){Y(c,t,g),p||(S=I(t,"click",m),p=!0)},p(c,g){e=c,g&64&&s!==(s=e[25]*e[6])&&u(t,"x",s),g&64&&n!==(n=e[27]*e[6])&&u(t,"y",n),g&64&&l!==(l=e[6]-G)&&u(t,"width",l),g&64&&a!==(a=e[6]-G)&&u(t,"height",a),g&64&&r!==(r=Math.log(e[6]))&&u(t,"rx",r),g&64&&h!==(h=Math.log(e[6]))&&u(t,"ry",h),g&2&&x(t,"selected",e[1].includes(`${e[25]}:${e[27]}`))},d(c){c&&k(t),p=!1,S()}}}function le(e){let t,s=Array(e[4]),n=[];for(let l=0;l<s.length;l+=1)n[l]=ne(se(e,s,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=K()},l(l){for(let a=0;a<n.length;a+=1)n[a].l(l);t=K()},m(l,a){for(let r=0;r<n.length;r+=1)n[r].m(l,a);Y(l,t,a)},p(l,a){if(a&338){s=Array(l[4]);let r;for(r=0;r<s.length;r+=1){const h=se(l,s,r);n[r]?n[r].p(h,a):(n[r]=ne(h),n[r].c(),n[r].m(t.parentNode,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}},d(l){$(n,l),l&&k(t)}}}function ze(e){let t,s,n,l,a,r,h=(e[0]?"Stop":"Start")+"",p,S,m,c,g,b,d,T,P,N=Array(e[5]),_=[];for(let f=0;f<N.length;f+=1)_[f]=le(te(e,N,f));return{c(){t=O("div"),s=O("div"),n=O("button"),l=V("Clear"),a=j(),r=O("button"),p=V(h),S=j(),m=O("button"),c=V("Copy"),g=j(),b=Q("svg");for(let f=0;f<_.length;f+=1)_[f].c();this.h()},l(f){t=A(f,"DIV",{class:!0});var w=M(t);s=A(w,"DIV",{class:!0});var i=M(s);n=A(i,"BUTTON",{class:!0});var z=M(n);l=D(z,"Clear"),z.forEach(k),a=q(i),r=A(i,"BUTTON",{class:!0});var B=M(r);p=D(B,h),B.forEach(k),S=q(i),m=A(i,"BUTTON",{class:!0});var J=M(m);c=D(J,"Copy"),J.forEach(k),i.forEach(k),g=q(w),b=F(w,"svg",{width:!0,height:!0});var L=M(b);for(let o=0;o<_.length;o+=1)_[o].l(L);L.forEach(k),w.forEach(k),this.h()},h(){u(n,"class","reset svelte-n194fo"),u(r,"class","start svelte-n194fo"),u(m,"class","start svelte-n194fo"),u(s,"class","actions svelte-n194fo"),u(b,"width","100%"),u(b,"height","100%"),u(t,"class","grid svelte-n194fo"),ae(()=>e[18].call(t))},m(f,w){Y(f,t,w),C(t,s),C(s,n),C(n,l),C(s,a),C(s,r),C(r,p),C(s,S),C(s,m),C(m,c),C(t,g),C(t,b);for(let i=0;i<_.length;i+=1)_[i].m(b,null);d=ie(t,e[18].bind(t)),T||(P=[I(Te,"wheel",e[9]),I(n,"click",e[16]),I(r,"click",function(){ce(e[0]?e[11]:e[10])&&(e[0]?e[11]:e[10]).apply(this,arguments)}),I(m,"click",e[12])],T=!0)},p(f,[w]){if(e=f,w&1&&h!==(h=(e[0]?"Stop":"Start")+"")&&ue(p,h),w&370){N=Array(e[5]);let i;for(i=0;i<N.length;i+=1){const z=te(e,N,i);_[i]?_[i].p(z,w):(_[i]=le(z),_[i].c(),_[i].m(b,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=N.length}},i:W,o:W,d(f){f&&k(t),$(_,f),d(),T=!1,he(P)}}}let G=2;function Ee(e,t,s){let n,l,a,r;ee(e,Ce,o=>s(20,a=o));let h,p;fe(()=>{s(13,h=a.url.searchParams.get("pattern")),s(14,p=a.url.searchParams.get("zoom"))});let S=0,m=0,c=50,g,{playing:b=!1}=t,{alivedCells:d=[]}=t;const T=_e(c);ee(e,T,o=>s(6,r=o));function P(o){const y=[];for(let v=-1;v<=1;v++)for(let E=-1;E<=1;E++){const U=v+o.x,R=E+o.y;U<0||R<0||U>n||R>l||U===o.x&&R===o.y||y.push(`${U}:${R}`)}return y}function N(o,y){i();const v=`${o}:${y}`;d.includes(v)?s(1,d=d.filter(E=>E!==v)):s(1,d=[...d,v])}function _(o){o.deltaY<0&&s(15,c+=2),o.deltaY>0&&c>20&&s(15,c-=2)}function f(){const o=[];for(let y=0;y<n;y++)for(let v=0;v<l;v++){const E=d.includes(`${y}:${v}`),R=P({x:y,y:v}).filter(re=>d.includes(re)).length;E&&(R===2||R===3)?o.push(`${y}:${v}`):R===3&&o.push(`${y}:${v}`)}s(1,d=o)}function w(){s(0,b=!0),g=setInterval(f,200)}function i(){s(0,b=!1),clearInterval(g)}function z(){console.log("icici");const o=new URLSearchParams("");o.set("pattern",encodeURI(JSON.stringify(d))),o.set("zoom",c.toString()),Ne(`?${o.toString()}`,{keepfocus:!0,replaceState:!0,noscroll:!0}),window.navigator.clipboard.writeText(window.location.href)}const B=()=>s(1,d=[]),J=(o,y)=>N(o,y);function L(){S=this.clientHeight,m=this.clientWidth,s(2,S),s(3,m)}return e.$$set=o=>{"playing"in o&&s(0,b=o.playing),"alivedCells"in o&&s(1,d=o.alivedCells)},e.$$.update=()=>{e.$$.dirty&24576&&(h!=null&&s(1,d=JSON.parse(decodeURI(h))),p!=null&&s(15,c=JSON.parse(decodeURI(p)))),e.$$.dirty&32776&&s(5,n=Math.floor(m/c)+1),e.$$.dirty&32772&&s(4,l=Math.floor(S/c)+1),e.$$.dirty&32768&&T.set(c)},[b,d,S,m,l,n,r,T,N,_,w,i,z,h,p,c,B,J,L]}class Me extends X{constructor(t){super();Z(this,t,Ee,ze,H,{playing:0,alivedCells:1})}}function Ue(e){let t,s,n;return s=new Me({}),{c(){t=j(),de(s.$$.fragment),this.h()},l(l){pe('[data-svelte="svelte-mb0vpf"]',document.head).forEach(k),t=q(l),me(s.$$.fragment,l),this.h()},h(){document.title="Game of Life"},m(l,a){Y(l,t,a),ve(s,l,a),n=!0},p:W,i(l){n||(be(s.$$.fragment,l),n=!0)},o(l){ye(s.$$.fragment,l),n=!1},d(l){l&&k(t),we(s,l)}}}class Ae extends X{constructor(t){super();Z(this,t,null,Ue,H,{})}}export{Ae as default};
