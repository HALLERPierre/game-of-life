import{L as he,S as Q,i as F,s as x,l as $,g as X,M as ee,N as te,a as N,d as y,b as h,O as se,P as A,Q as ne,e as P,t as W,k as j,c as Y,h as Z,m as q,R as fe,J as k,T as _e,U as ge,j as de,K as H,V as me,W as le,v as pe,X as ve,Y as be,w as ye,Z as we,x as ke,y as Se,q as Ce,o as Ie,B as Me}from"../chunks/vendor-7f937735.js";import{r as Ne}from"../chunks/singletons-a6a7384f.js";const Re=()=>{const e=he("__svelte__");return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:e.navigating.subscribe}},session:e.session}},Te={subscribe(e){return Re().page.subscribe(e)}},ze=Ee;async function Ee(e,t){return Ne.goto(e,t,[])}const{window:Ue}=be;function re(e,t,s){const n=e.slice();return n[22]=t[s],n[24]=s,n}function oe(e,t,s){const n=e.slice();return n[22]=t[s],n[26]=s,n}function ae(e){let t,s,n,l,o,r,u,m,w;function p(){return e[17](e[24],e[26])}return{c(){t=ee("rect"),this.h()},l(c){t=te(c,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),N(t).forEach(y),this.h()},h(){h(t,"class","rect svelte-n194fo"),h(t,"x",s=e[24]*e[6]),h(t,"y",n=e[26]*e[6]),h(t,"width",l=e[6]-G),h(t,"height",o=e[6]-G),h(t,"rx",r=Math.log(e[6])),h(t,"ry",u=Math.log(e[6])),se(t,"selected",e[1].includes(`${e[24]}:${e[26]}`))},m(c,d){X(c,t,d),m||(w=A(t,"click",p),m=!0)},p(c,d){e=c,d&64&&s!==(s=e[24]*e[6])&&h(t,"x",s),d&64&&n!==(n=e[26]*e[6])&&h(t,"y",n),d&64&&l!==(l=e[6]-G)&&h(t,"width",l),d&64&&o!==(o=e[6]-G)&&h(t,"height",o),d&64&&r!==(r=Math.log(e[6]))&&h(t,"rx",r),d&64&&u!==(u=Math.log(e[6]))&&h(t,"ry",u),d&2&&se(t,"selected",e[1].includes(`${e[24]}:${e[26]}`))},d(c){c&&y(t),m=!1,w()}}}function ie(e){let t,s=Array(e[4]),n=[];for(let l=0;l<s.length;l+=1)n[l]=ae(oe(e,s,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=$()},l(l){for(let o=0;o<n.length;o+=1)n[o].l(l);t=$()},m(l,o){for(let r=0;r<n.length;r+=1)n[r].m(l,o);X(l,t,o)},p(l,o){if(o&338){s=Array(l[4]);let r;for(r=0;r<s.length;r+=1){const u=oe(l,s,r);n[r]?n[r].p(u,o):(n[r]=ae(u),n[r].c(),n[r].m(t.parentNode,t))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}},d(l){ne(n,l),l&&y(t)}}}function Oe(e){let t,s,n,l,o,r,u=(e[0]?"Stop":"Start")+"",m,w,p,c,d,v,g,I,E,C=Array(e[5]),_=[];for(let f=0;f<C.length;f+=1)_[f]=ie(re(e,C,f));return{c(){t=P("div"),s=P("div"),n=P("button"),l=W("Clear"),o=j(),r=P("button"),m=W(u),w=j(),p=P("button"),c=W("Copy"),d=j(),v=ee("svg");for(let f=0;f<_.length;f+=1)_[f].c();this.h()},l(f){t=Y(f,"DIV",{class:!0});var b=N(t);s=Y(b,"DIV",{class:!0});var i=N(s);n=Y(i,"BUTTON",{class:!0});var M=N(n);l=Z(M,"Clear"),M.forEach(y),o=q(i),r=Y(i,"BUTTON",{class:!0});var B=N(r);m=Z(B,u),B.forEach(y),w=q(i),p=Y(i,"BUTTON",{class:!0});var J=N(p);c=Z(J,"Copy"),J.forEach(y),i.forEach(y),d=q(b),v=te(b,"svg",{width:!0,height:!0});var a=N(v);for(let S=0;S<_.length;S+=1)_[S].l(a);a.forEach(y),b.forEach(y),this.h()},h(){h(n,"class","reset svelte-n194fo"),h(r,"class","start svelte-n194fo"),h(p,"class","start svelte-n194fo"),h(s,"class","actions svelte-n194fo"),h(v,"width","100%"),h(v,"height","100%"),h(t,"class","grid svelte-n194fo"),fe(()=>e[18].call(t))},m(f,b){X(f,t,b),k(t,s),k(s,n),k(n,l),k(s,o),k(s,r),k(r,m),k(s,w),k(s,p),k(p,c),k(t,d),k(t,v);for(let i=0;i<_.length;i+=1)_[i].m(v,null);g=_e(t,e[18].bind(t)),I||(E=[A(Ue,"wheel",e[9]),A(n,"click",e[16]),A(r,"click",function(){ge(e[0]?e[11]:e[10])&&(e[0]?e[11]:e[10]).apply(this,arguments)}),A(p,"click",e[12])],I=!0)},p(f,[b]){if(e=f,b&1&&u!==(u=(e[0]?"Stop":"Start")+"")&&de(m,u),b&370){C=Array(e[5]);let i;for(i=0;i<C.length;i+=1){const M=re(e,C,i);_[i]?_[i].p(M,b):(_[i]=ie(M),_[i].c(),_[i].m(v,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=C.length}},i:H,o:H,d(f){f&&y(t),ne(_,f),g(),I=!1,me(E)}}}let G=2;function Ae(e){const t=[];for(let s=-1;s<=1;s++)for(let n=-1;n<=1;n++){const l=s+e.x,o=n+e.y;l===e.x&&o===e.y||t.push(`${l}:${o}`)}return t}function Pe(e,t,s){let n,l,o,r;le(e,Te,a=>s(20,o=a));let u,m;pe(()=>{console.log(o.url),s(13,u=o.url.searchParams.get("pattern")),s(14,m=o.url.searchParams.get("zoom")),console.log(u)});let w=0,p=0,c=50,d,{playing:v=!1}=t,{aliveCells:g=[]}=t;const I=ve(c,{damping:1});le(e,I,a=>s(6,r=a));function E(a,S){b();const U=`${a}:${S}`;g.includes(U)?s(1,g=g.filter(V=>V!==U)):s(1,g=[...g,U])}function C(a){a.deltaY<0&&s(15,c+=2),a.deltaY>0&&c>20&&s(15,c-=2)}function _(){const a=[],[S,U,V,ce]=g.reduce(([R,T,O,D],K)=>{const[z,L]=K.split(":").map(ue=>parseInt(ue,10));return[Math.min(R,z),Math.max(T,z),Math.min(O,L),Math.max(D,L)]},[1/0,-1/0,1/0,-1/0]);for(let R=S-1;R<=U+1;R++)for(let T=V-1;T<=ce+1;T++){const O=`${R}:${T}`,D=g.includes(O),z=Ae({x:R,y:T}).filter(L=>g.includes(L)).length;(D&&(z===2||z===3)||z===3)&&a.push(O)}s(1,g=a)}function f(){s(0,v=!0),d=setInterval(_,200)}function b(){s(0,v=!1),clearInterval(d)}function i(){const a=new URLSearchParams("");a.set("pattern",encodeURI(JSON.stringify(g))),a.set("zoom",c.toString()),ze(`?${a.toString()}`,{keepfocus:!0,replaceState:!0,noscroll:!0}),window.navigator.clipboard.writeText(window.location.href)}const M=()=>s(1,g=[]),B=(a,S)=>E(a,S);function J(){w=this.clientHeight,p=this.clientWidth,s(2,w),s(3,p)}return e.$$set=a=>{"playing"in a&&s(0,v=a.playing),"aliveCells"in a&&s(1,g=a.aliveCells)},e.$$.update=()=>{e.$$.dirty&24576&&(u!=null&&s(1,g=JSON.parse(decodeURI(u))),m!=null&&s(15,c=JSON.parse(decodeURI(m)))),e.$$.dirty&32776&&s(5,n=Math.floor(p/c)+1),e.$$.dirty&32772&&s(4,l=Math.floor(w/c)+1),e.$$.dirty&32768&&I.set(c)},[v,g,w,p,l,n,r,I,E,C,f,b,i,u,m,c,M,B,J]}class Ye extends Q{constructor(t){super();F(this,t,Pe,Oe,x,{playing:0,aliveCells:1})}}function Be(e){let t,s,n;return s=new Ye({}),{c(){t=j(),ye(s.$$.fragment),this.h()},l(l){we('[data-svelte="svelte-mb0vpf"]',document.head).forEach(y),t=q(l),ke(s.$$.fragment,l),this.h()},h(){document.title="Game of Life"},m(l,o){X(l,t,o),Se(s,l,o),n=!0},p:H,i(l){n||(Ce(s.$$.fragment,l),n=!0)},o(l){Ie(s.$$.fragment,l),n=!1},d(l){l&&y(t),Me(s,l)}}}class Xe extends Q{constructor(t){super();F(this,t,null,Be,x,{})}}export{Xe as default};
